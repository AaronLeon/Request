<div ng-controller="ShowController">
  <super-navbar>
    <super-navbar-title>
      Request Details
    </super-navbar-title>
  </super-navbar>

  <div class="padding list card">
    <div ng-show="showSpinner" ng-include="'_spinner.html'"></div>
    <div ng-hide="showSpinner">
      <h4>{{request.author_name}} needs to borrow.. {{request.title}}</h4>
      <p>Description: <span ng-bind="request['description']"></span></p>
      <p>Created <span ng-bind="request['stringCreatedAt']"></span></p>

      <div ng-hide="isAuthor">
        <button ng-click="accept()" ng-show="request.state === 'open'" class="button icon super-heart button-block button-balanced">  Help {{request.author_name}}!
        </button>
        <super-navigate location="user#show" data-params-id="{{request.author_user}}">
          <button  class="button icon super-person button-block button-positive">
            See {{request.author_name}}'s profile
          </button>
        </super-navigate>
      </div>

      <div ng-show="isAuthor">
        <div ng-show="request.state==='accepted'">
          <super-navigate location="user#show?id={{request.accepted_user}}">
            <button class="button icon super-person button-block button-balanced">
              See {{request.accepted_name}}'s Profile
            </button>
          </super-navigate>
        </div>
        <div class="row">

          <div class="col">
            <super-modal-show location="request#edit?id={{ request.id }}">
              <button class="button button-block button-positive">
                Edit
               </button>
            </super-modal-show>
          </div>

          <div class="col">
            <button ng-click="remove(request.id)" class="button button-block button-negative">
              Cancel
            </button>
          </div>

          <div class="col">
            <button ng-click="close(request.id)" ng-show="isAccepted" class="button button-block button-negative">
              Done
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
